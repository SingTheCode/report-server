---
inclusion: always
---

# 개발 가이드

## 코드 리뷰 원칙

### 품질 기준
- 코드는 단순하고 읽기 쉬워야 함
- 함수와 변수는 명확하게 명명
- 중복 코드 제거
- 적절한 에러 처리
- 비밀 키나 API 키 노출 금지
- 입력 검증 구현
- 충분한 테스트 커버리지
- 성능 고려사항 반영
- SOLID 원칙 준수

### 우선순위별 피드백
- **Critical**: 반드시 수정 필요
- **Warning**: 수정 권장
- **Suggestion**: 개선 고려사항

## 디버깅 프로세스

### 문제 해결 단계
1. 에러 메시지와 스택 트레이스 캡처
2. 재현 단계 식별
3. 실패 위치 격리
4. 최소한의 수정 구현
5. 솔루션 검증

### 디버깅 기법
- 에러 메시지와 로그 분석
- 최근 코드 변경사항 확인
- 가설 수립 및 테스트
- 전략적 디버그 로깅 추가
- 변수 상태 검사

## 코드 정리 원칙

### 정리 대상
- 사용하지 않는 코드 제거
- Import 최적화 및 미사용 의존성 정리
- 코드 중복 식별 및 리팩토링
- 프로젝트 구조 정리 및 파일 관리

### 안전 조치
- 주요 변경 전 백업 생성
- 정리 후 테스트로 검증
- 롤백을 위한 git 히스토리 보존
- 복잡한 결정은 대화형 모드 사용

## 시스템 설계 원칙

### 설계 고려사항
- 확장성을 고려한 시스템 아키텍처 계획
- API 명세 및 인터페이스 설계
- 컴포넌트 설계 및 기술 명세
- 데이터베이스 스키마 및 데이터 모델 설계

### 설계 패턴
- 요구사항 → 시스템 구조 → 확장성 계획
- 인터페이스 명세 → RESTful/GraphQL 패턴 → 문서화
- 기능 요구사항 → 인터페이스 설계 → 구현 가이드라인
- 데이터 요구사항 → 스키마 설계 → 관계 모델링

## 코드 분석 영역

### 다중 도메인 분석
- 코드 품질 평가 및 기술 부채 식별
- 보안 취약점 스캔 및 컴플라이언스 검증
- 성능 병목 식별 및 최적화 계획
- 아키텍처 리뷰 및 디자인 패턴 평가

### 분석 패턴
- 코드 스멜 → 유지보수성 이슈 → 리팩토링 권장사항
- 취약점 탐지 → 위험 평가 → 완화 전략
- 프로파일링 분석 → 병목 식별 → 최적화 기회
- 구조 분석 → 패턴 준수 → 설계 개선

## 프론트엔드 개발

### React 성능 최적화
- React.memo로 비용이 큰 컴포넌트 최적화
- useMemo/useCallback로 계산된 값 최적화
- React.lazy로 코드 분할
- 큰 리스트에 가상 스크롤링
- React DevTools로 프로파일링

### JavaScript 모범 사례
- Promise 체인보다 async/await 선호
- 적절한 곳에 함수형 패턴 사용
- 경계에서 적절한 에러 처리
- 이벤트 루프와 마이크로태스크 이해
- 깔끔한 export를 가진 모듈 구조

### 개발 접근법
1. 컴포넌트 우선 사고 - 재사용 가능하고 조합 가능한 UI
2. 모바일 우선 반응형 디자인
3. 성능 예산 - 3초 미만 로드 시간
4. TypeScript로 타입 안전성
5. 처음부터 접근성 내장

## Git 워크플로우

### 스마트 작업
- 변경 분석에서 커밋 메시지 생성
- 브랜치 명명 규칙 및 워크플로우 최적화
- 가이드 지원으로 병합 충돌 해결
- 실행 가능한 권장사항이 있는 저장소 상태 분석

### Git 작업
- **스마트 상태**: 저장소 상태 → 변경 요약 → 실행 가능한 권장사항
- **지능형 커밋**: 변경 분석 → 컨벤셔널 커밋 메시지 → 모범 사례
- **브랜치 전략**: 일관된 명명 및 워크플로우 적용
- **에러 복구**: 충돌 해결 및 상태 복원 가이드

## 기술 교육

### 설명 접근법
- 점진적 복잡성으로 코드 설명
- 시스템 동작 및 아키텍처 명확화
- 프레임워크별 개념 설명
- 지식 전달을 위한 교육 콘텐츠 생성

### 설명 패턴
- 기본 개념 → 중급 세부사항 → 고급 구현
- 공식 문서 → 정확한 패턴과 예제
- 기술 정확성 + 교육적 명확성 + 보안 인식
- 정적 콘텐츠 → 예제 → 대화형 탐색

## TDD 워크플로우 (필수)

### 🚨 엄격한 적용 원칙
**모든 코드 작성은 반드시 TDD 방식으로 진행합니다.**

적용 범위:
- ✅ 새 기능 구현
- ✅ 버그 수정
- ✅ 리팩토링
- ✅ 성능 개선

### Red-Green-Refactor 사이클

#### 1단계: Red (실패하는 테스트 작성)
```typescript
// Given-When-Then 형식으로 테스트 먼저 작성
test('새 페이지로 이동할 때 스택에 페이지가 추가되고 forward 방향이 설정된다', () => {
    // Given: 빈 스택
    const route = createMockRoute('Home', '/');

    // When: 새 페이지 추가
    store.push(route);

    // Then: 스택에 페이지 추가 및 방향 설정
    expect(store.stack).toHaveLength(1);
    expect(store.direction).toBe('forward');
});
```

**실행 결과**: ❌ 테스트 실패 확인 필수

#### 2단계: Green (최소한의 코드로 테스트 통과)
```typescript
// 테스트를 통과시키는 최소한의 코드만 작성
actions: {
    push(route) {
        this.stack.push(route);
        this.direction = 'forward';
    }
}
```

**실행 결과**: ✅ 테스트 통과 확인 필수

#### 3단계: Refactor (코드 개선)
```typescript
// 테스트 통과 상태를 유지하며 코드 개선
actions: {
    push(route) {
        // 스택 크기 제한 추가
        if (this.stack.length >= this.maxStackSize) {
            this.stack.shift();
        }
        
        this.stack.push(route);
        this.direction = 'forward';
    }
}
```

**실행 결과**: ✅ 모든 테스트 통과 확인 필수

### 필수 체크리스트

#### 개발 시작 전
- [ ] 구현할 기능의 테스트를 먼저 작성했는가?
- [ ] 테스트가 실패하는 것을 확인했는가?

#### 구현 중
- [ ] 테스트를 통과하는 최소한의 코드만 작성했는가?
- [ ] 불필요한 기능을 미리 구현하지 않았는가?

#### 구현 후
- [ ] 모든 테스트가 통과하는가?
- [ ] 리팩토링 후에도 테스트가 통과하는가?
- [ ] 아키텍처 규칙을 준수했는가?
- [ ] Given-When-Then 주석이 명시되어 있는가?

### 레이어별 TDD 순서
1. **Repository Layer**: API 호출 테스트 → 구현
2. **State Layer**: 상태 변경 테스트 → 구현
3. **Service Layer** (선택): 비즈니스 로직 테스트 → 구현
4. **Controller Layer**: 통합 테스트 → 구현

각 레이어마다 Red-Green-Refactor 사이클을 완료한 후 다음 레이어로 진행합니다.

### 예외 없는 적용
- Router 설정도 테스트 먼저 작성
- CSS 변경도 시각적 회귀 테스트 작성
- 버그 수정 시 재현 테스트 먼저 작성
- 리팩토링 전 기존 동작 테스트 작성

### 위반 시 조치
TDD를 따르지 않은 코드는:
1. 즉시 되돌리기
2. 테스트 먼저 작성
3. TDD 사이클로 재구현

## 테스트 자동화

### 테스트 전략
- 모킹 및 픽스처를 사용한 단위 테스트 설계
- 테스트 컨테이너를 사용한 통합 테스트
- Playwright/Cypress를 사용한 E2E 테스트
- CI/CD 테스트 파이프라인 구성
- 테스트 데이터 관리 및 팩토리
- 커버리지 분석 및 보고

### 테스트 접근법
1. 테스트 피라미드 - 많은 단위, 적은 통합, 최소 E2E
2. Arrange-Act-Assert 패턴
3. 구현이 아닌 동작 테스트
4. 결정론적 테스트 - 불안정성 없음
5. 빠른 피드백 - 가능한 경우 병렬화

## 개발 체크리스트

### TDD 준수 (필수)
- [ ] 테스트를 먼저 작성했는가?
- [ ] 테스트 실패를 확인했는가?
- [ ] 최소 코드로 테스트를 통과시켰는가?
- [ ] 리팩토링 후 테스트가 통과하는가?

### 코드 품질
- [ ] 코드가 단순하고 읽기 쉬운가?
- [ ] 적절한 에러 처리가 있는가?
- [ ] 충분한 테스트 커버리지가 있는가?
- [ ] 성능이 고려되었는가?
- [ ] SOLID 원칙을 준수하는가?

### 보안 및 접근성
- [ ] 보안 취약점이 없는가?
- [ ] 접근성이 고려되었는가?
- [ ] 문서화가 충분한가?
